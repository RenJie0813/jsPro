"use strict";!function(){function t(t){var e=t||-1,d=[e];sendRequest("server.getList",d,function(t){$(".lineData")&&$("#tb").empty(),n(t)})}function n(n){$("#tb").append('    <tr class="th">\n            <td >IP号</td>\n            <td >代理服务器</td>\n            <td >用途分类</td>\n            <td >使用地区</td>\n            <td >描述</td>\n            <td >线程数</td>\n            <td >内容(G)</td>\n            <td >带宽(mbps)</td>\n            <td >操作</td>\n        </tr>'),n.data.forEach(function(n){var e=void 0,d=void 0;switch(n.useType){case 0:e="Master db";break;case 1:e="Cust db";break;case 2:e="Log db";break;case 3:e="Game";break;case 4:e="Agent";break;default:e="未知"}switch(n.useArea){case 0:d="抗压";break;case 1:d="分地区";break;default:d="未知"}$("#tb").append('\n        <tr class="lineData">\n            <td>'+n.ip+"</td>\n            <td>"+n.bakIP+"</td>\n            <td>"+e+"</td>\n            <td>"+d+"</td>\n            <td>"+n.desc+"</td>\n            <td>"+n.cpu+"</td>\n            <td>"+n.memory+"</td>\n            <td>"+n.bandwidth+'</td>\n            <td> <span class="editBtn">编辑 </span>  <span class="deleteBtn"> 删除</span> </td>\n        </tr>\n        '),$(".editBtn").unbind("click").bind("click",function(){for(var t=[],n=$(this).parent().parent().children(),e=0;e<n.length;e++)t.push(n[e].innerHTML);t=JSON.stringify(t),localStorage.setItem("serverDetail",t),location.href="edit.html"}),$(".deleteBtn").unbind("click").bind("click",function(){if(!0===confirm("确定删除该项？")){var n=$(this).parent().parent().children()[0].innerHTML,e=[n];console.log(e),sendRequest("server.del",e,function(n){console.log(n),0===n.code?t():alert("删除失败，请重试")})}})})}$(document).ready(function(){$("#btn").on("click",function(){location.href="add.html"}),$("#useType").change(function(){t($(this).val())}),t()})}();