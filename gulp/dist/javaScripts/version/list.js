"use strict";function getData(){sendRequest("ver.getList",[],function(t){t.head=["名称","版本","后端","固定","编辑"],t.data.sort(function(t,n){return n.id-t.id}),console.log(t),$(".lineData")&&$("#tb").empty(),render(t)})}function render(t){$("#tb").append('    <tr class="th">\n            <td >'+t.head[0]+"</td>\n            <td >"+t.head[1]+"</td>\n            <td >"+t.head[2]+"</td>\n            <td >"+t.head[3]+"</td>\n            <td >"+t.head[4]+"</td>\n        </tr>"),t.data.forEach(function(t){t.isFixed?$("#tb").append('\n        <tr class="lineData">\n            <td>'+t.name+"</td>\n            <td>"+t.id+"</td>\n            <td>"+t.serverVer+'</td>\n            <td style="color: #39A3F9"><span class="fixBtn" style="border-bottom:1px dashed #333;cursor: pointer">固定</span></td>\n            <td> <span class="editBtn">编辑</span>  <span class="gameBtn">游戏</span></td>\n        </tr>\n        '):$("#tb").append('\n        <tr class="lineData">\n            <td>'+t.name+"</td>\n            <td>"+t.id+"</td>         \n            <td>"+t.serverVer+'</td>\n            <td style="color: #EE735C"><span class="fixBtn" style="border-bottom:1px dashed #333;cursor: pointer">未固定</span></td>\n            <td> <span class="editBtn">编辑</span>  <span class="gameBtn"> 游戏</span></td>\n        </tr>\n        ')}),$(".fixBtn").on("click",function(){var t=+$(this).parent().parent().children()[1].innerHTML;console.log(void 0===t?"undefined":_typeof(t)),sendRequest("ver.fixed",[t],function(t){console.log(t),0===t.code?getData():alert("固定失败")})}),$(".editBtn").unbind("click").bind("click",function(){var t=+$(this).parent().parent().children().eq(1).html();localStorage.setItem("editVerId",t),location.href="edit.html"}),$(".gameBtn").unbind("click").bind("click",function(){var t=+$(this).parent().parent().children().eq(1).html();localStorage.setItem("verId",t),location.href="game.html"}),$("#btn").on("click",function(){location.href="../../views/version/add.html"})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};$(document).ready(function(){getData()});